/**
 * Basic CSS styles for table-x components
 * 
 * Uses CSS variables for easy theming.
 * No Tailwind dependency - pure CSS.
 */

/* CSS Variables for theming */
:root {
  --table-x-bg: #ffffff;
  --table-x-header-bg: #f9fafb;
  --table-x-border-color: #e5e7eb;
  --table-x-border-width: 1px;
  --table-x-hover-bg: #f3f4f6;
  --table-x-sticky-bg: #ffffff;
  --table-x-text-color: #111827;
  --table-x-header-text-color: #374151;
}

/* TODO: Add theme presets (minimal, bordered, outlined, etc.) */
/* TODO: Add dark mode theme variables */

/* Table container */
.table-x-container {
  width: 100%;
  border-radius: 8px;
  overflow: hidden;
}

.table-x-container--bordered {
  border: var(--table-x-border-width, 1px) solid var(--table-x-border-color, #e5e7eb);
}

.table-x-container--borderless {
  border: none;
}

.table-x-wrapper {
  overflow-x: auto;
  overflow-y: visible;
}

.table-x-wrapper--scrollable {
  overflow-y: auto;
  /* Ensure smooth scrolling */
  -webkit-overflow-scrolling: touch;
  /* Prevent layout shift by maintaining scrollbar space */
  scrollbar-gutter: stable;
}

/* Table */
.table-x-table {
  width: 100%;
  border-collapse: separate;
  border-spacing: 0;
  background-color: var(--table-x-bg);
}

/* Header */
.table-x-header {
  background-color: var(--table-x-header-bg);
}

.table-x-header--sticky {
  /* Position sticky is applied inline when needed */
  /* This ensures it works within the scroll container */
}

.table-x-header-cell {
  padding: 12px 16px;
  text-align: left;
  font-weight: 600;
  font-size: 14px;
  color: var(--table-x-header-text-color);
  background-color: var(--table-x-header-bg);
  position: relative;
  user-select: none;
  /* Ensure header cells maintain width to prevent layout shift */
  box-sizing: border-box;
  /* Default: no borders (will be added by --bordered class) */
  border: none;
}

.table-x-header-cell--bordered {
  border-bottom: calc(var(--table-x-border-width, 1px) * 2) solid var(--table-x-border-color, #e5e7eb);
  border-right: var(--table-x-border-width, 1px) solid var(--table-x-border-color, #e5e7eb);
}

.table-x-header-cell--borderless {
  border: none !important;
}

.table-x-header-cell--bordered:last-child {
  border-right: none;
}

.table-x-header-cell--sortable {
  cursor: pointer;
}

.table-x-header-cell--sortable:hover {
  background-color: var(--table-x-hover-bg);
}

.table-x-header-cell--sorted {
  background-color: var(--table-x-hover-bg);
}

.table-x-header-cell--sticky {
  position: sticky;
  left: 0;
  z-index: 12;
  background-color: var(--table-x-sticky-bg);
}

/* Ensure sticky header cells maintain borders */
.table-x-header-cell--sticky.table-x-header-cell--bordered {
  border-right: var(--table-x-border-width, 1px) solid var(--table-x-border-color, #e5e7eb) !important;
}

.table-x-header-cell--resizing {
  border-right: calc(var(--table-x-border-width) * 2) solid var(--table-x-border-color);
}

.table-x-header-cell-content {
  display: flex;
  align-items: center;
  gap: 8px;
}

.table-x-sort-indicator {
  font-size: 12px;
  opacity: 0.6;
}

.table-x-header-cell--sorted .table-x-sort-indicator {
  opacity: 1;
}

/* Resize handle */
.table-x-resize-handle {
  position: absolute;
  top: 0;
  right: 0;
  width: 4px;
  height: 100%;
  cursor: col-resize;
  background-color: transparent;
}

.table-x-resize-handle:hover {
  background-color: var(--table-x-border-color);
}

/* Body */
.table-x-body {
  background-color: var(--table-x-bg);
}

.table-x-row {
  transition: background-color 0.15s ease;
}

/* Apply border-bottom to rows */
.table-x-body--bordered .table-x-row {
  border-bottom: var(--table-x-border-width, 1px) solid var(--table-x-border-color, #e5e7eb) !important;
}

/* Keep border on last row as well */
.table-x-body--bordered .table-x-row:last-child {
  border-bottom: var(--table-x-border-width, 1px) solid var(--table-x-border-color, #e5e7eb) !important;
}

/* Also apply border-bottom to cells for better browser compatibility */
.table-x-body--bordered .table-x-row .table-x-cell {
  border-bottom: var(--table-x-border-width, 1px) solid var(--table-x-border-color, #e5e7eb);
}

.table-x-body--bordered .table-x-row:last-child .table-x-cell {
  border-bottom: var(--table-x-border-width, 1px) solid var(--table-x-border-color, #e5e7eb);
}

.table-x-body--borderless .table-x-row {
  border-bottom: none;
}

.table-x-row:hover {
  background-color: var(--table-x-hover-bg);
}

/* Cell */
.table-x-cell {
  padding: 12px 16px;
  font-size: 14px;
  color: var(--table-x-text-color);
  /* Ensure cells maintain width to prevent layout shift */
  box-sizing: border-box;
  /* Default: no borders (will be added by --bordered class) */
  border: none;
}

.table-x-cell--bordered {
  border-right: var(--table-x-border-width, 1px) solid var(--table-x-border-color, #e5e7eb);
}

.table-x-cell--borderless {
  border-right: none !important;
}

.table-x-cell--bordered:last-child {
  border-right: none !important;
}

/* Ensure sticky cells maintain borders - use !important to override any conflicting styles */
.table-x-cell--sticky.table-x-cell--bordered {
  border-right: var(--table-x-border-width, 1px) solid var(--table-x-border-color, #e5e7eb) !important;
}

/* Ensure sticky cells don't lose border when they're not last-child */
.table-x-cell--sticky.table-x-cell--bordered:not(:last-child) {
  border-right: var(--table-x-border-width, 1px) solid var(--table-x-border-color, #e5e7eb) !important;
}

.table-x-cell--left {
  text-align: left;
}

.table-x-cell--center {
  text-align: center;
}

.table-x-cell--right {
  text-align: right;
}

.table-x-cell--sticky {
  position: sticky;
  left: 0;
  z-index: 1;
  background-color: var(--table-x-sticky-bg);
}

/* Empty/Loading/Error states */
.table-x-body-empty {
  padding: 48px 16px;
  text-align: center;
  color: var(--table-x-text-color);
  opacity: 0.6;
}

.table-x-body--loading .table-x-body-empty,
.table-x-body--error .table-x-body-empty,
.table-x-body--empty .table-x-body-empty {
  border: none;
}

/* TODO: Add responsive styles for mobile */
/* TODO: Add dark mode support */
/* TODO: Add animation for row updates */

